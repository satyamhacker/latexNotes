# **Module 5: Reconnaissance & Gaining Access**

## **Topic 1: Network Enumeration & DNS**

### **1. Topic ka Naam / Ek Line Mein Summary** ðŸš€
**Network Enumeration & DNS:** Network information gather karna - IP, DNS, open ports - pentesting ka pehla kadam.

### **2. Ye Kya Hai? (What is it?)**
Network enumeration wo process hai jisse hum target system ke baare mein information collect karte hain - IP addresses, DNS records, open ports, running services. Ye pentesting ka reconnaissance phase hai.

**Analogy:** Ye ek bank robbery plan karne jaisa hai (legally, pentesting mein). Pehle aap building ko bahar se dekhte hain - kitne darwaze hain (ports), security guards kahan hain (services), building ka layout kya hai (network topology). Bina ye jaane, aap andar nahi ja sakte.

### **3. Pentesting mein Kyun Use Karte Hain? (Why use it?)**
- Target system ki complete picture banana
- Attack surface identify karna
- Vulnerable services dhoondhna
- Network topology samajhna
- Subdomain enumeration
- Information leakage identify karna

### **4. Ise Kab Use Karna Chahiye? (When to use it?)**
- Pentesting ka shuru mein (reconnaissance phase)
- New target milne par
- Network mapping karni ho
- Service enumeration karni ho
- DNS records analyze karni ho

### **5. Agar Ye Pata Nahi Hoga Toh Kya Hoga? (If not known then what?)** ðŸ˜Ÿ
Blind attack karna padega. Important services miss ho jayengi. Attack vectors identify nahi kar payenge. Time waste hoga random attacks mein. Professional pentesting impossible hai.

### **6. Ye Kaise Kaam Karta Hai? / Syntax aur Options**

**Network Commands:**
```bash
# IP configuration
ifconfig                    # Network interfaces (old)
ip addr show               # Network interfaces (new)
ip a                       # Short form

# Connectivity test
ping -c 4 target.com       # ICMP ping (4 packets)
ping6 target.com           # IPv6 ping

# DNS lookup
host target.com            # Simple DNS lookup
dig target.com             # Detailed DNS query
dig @8.8.8.8 target.com    # Specific DNS server
nslookup target.com        # Interactive DNS query

# DNS record types
dig target.com A           # IPv4 address
dig target.com AAAA        # IPv6 address
dig target.com MX          # Mail servers
dig target.com NS          # Name servers
dig target.com TXT         # Text records
dig target.com ANY         # All records

# Reverse DNS
dig -x 1.2.3.4            # IP to domain

# Port scanning
nmap target.com            # Basic scan
nmap -p- target.com        # All ports
nmap -sV target.com        # Service version
nmap -O target.com         # OS detection
nmap -A target.com         # Aggressive (OS, version, scripts)

# Network routes
ip route                   # Routing table
traceroute target.com      # Path to target
```

### **7. Command Example (Poori Explanation ke Saath)**

**Scenario 1: IP address dekhna**
```bash
ip addr show
```

**Expected Output:**
```
2: eth0: <BROADCAST,MULTICAST,UP>
    inet 192.168.1.100/24
```

**Scenario 2: DNS lookup**
```bash
host google.com
```

| Command Part | Matlab |
|--------------|--------|
| `host` | DNS lookup tool |
| `google.com` | Target domain |

**Expected Output:**
```
google.com has address 142.250.185.46
google.com has IPv6 address 2607:f8b0:4004:c07::71
```

**Scenario 3: Detailed DNS query**
```bash
dig example.com
```

**Expected Output:**
```
;; ANSWER SECTION:
example.com.  3600  IN  A  93.184.216.34
```

**Scenario 4: Subdomain enumeration**
```bash
dig example.com ANY
```

**Scenario 5: Basic nmap scan**
```bash
nmap -sV -p 80,443,22 target.com
```

| Command Part | Matlab |
|--------------|--------|
| `nmap` | Network scanner |
| `-sV` | Service version detection |
| `-p 80,443,22` | Specific ports |
| `target.com` | Target |

**Expected Output:**
```
PORT    STATE SERVICE VERSION
22/tcp  open  ssh     OpenSSH 8.2
80/tcp  open  http    Apache 2.4.41
443/tcp open  https   Apache 2.4.41
```

**Scenario 6: Network connectivity**
```bash
ping -c 4 8.8.8.8
```

| Command Part | Matlab |
|--------------|--------|
| `-c 4` | 4 packets send karo |
| `8.8.8.8` | Google DNS |

### **8. Beginners ki Aam Galtiyan (Common Mistakes)**
- Nmap ko bina permission target par chalana (illegal)
- Aggressive scans production systems par (DoS ho sakta hai)
- DNS enumeration mein rate limiting ignore karna
- ICMP blocked hone par ping se conclude karna ki host down hai
- Nmap output ko properly analyze na karna

### **9. Best Practices / Pro Tips**
- **CRITICAL Fix:** Hamesha written permission lein pentesting se pehle
- **Stealth Tip:** Slow scans use karein detection avoid karne ke liye: `nmap -T2`
- DNS enumeration ke liye multiple tools use karein (host, dig, nslookup)
- Nmap output save karein: `nmap -oA output_name target`
- Subdomain brute force ke liye wordlists use karein

### **10. Asli Pentesting ka Scenario (Real-World Scenario)**
Ek pentester ko company.com test karna tha. Usne `dig company.com ANY` chalaya aur dekha ki `dev.company.com` aur `staging.company.com` subdomains hain. Usne `nmap -sV dev.company.com` chalaya aur dekha ki port 8080 par outdated Jenkins chal raha hai. Usne Jenkins exploit kiya aur access le liya.

### **11. Checklist / Chota Recap (TL;DR)**
- `ip addr show` - Local IP
- `ping target` - Connectivity test
- `host / dig target` - DNS lookup
- `nmap -sV target` - Port + service scan
- DNS records: A, MX, NS, TXT

### **12. Aksar Puche Jaane Wale Sawaal (FAQs)**

**Q1: Nmap legal hai?**
A: Tool legal hai, lekin bina permission use karna illegal hai. Hamesha written authorization lein.

**Q2: Ping kaam nahi kar raha, matlab host down hai?**
A: Nahi. ICMP blocked ho sakta hai. Nmap TCP scan try karein.

**Q3: DNS enumeration se kya mil sakta hai?**
A: Subdomains, mail servers, name servers, internal IPs (misconfiguration), TXT records (SPF, DKIM).

**Q4: Nmap slow kyun hai?**
A: Stealth ke liye. Fast scan chahiye to `-T4` use karein, lekin detection risk hai.

**Q5: Subdomain kaise dhoondhein?**
A: DNS brute force (`dnsrecon`, `sublist3r`), certificate transparency logs, Google dorking.

### **13. Practice ke liye Task**
1. `ip addr show` - Apna IP dekho
2. `ping -c 4 google.com` - Connectivity test
3. `host google.com` - DNS lookup
4. `dig google.com MX` - Mail servers
5. `nmap -sV localhost` - Local services scan

**Expected Output:** IP address, ping replies, DNS records, mail servers, open ports.

### **14. Extra / Advanced Jaankari (Optional)**
- **Masscan:** Bahut fast port scanner (Internet-scale)
- **Amass:** Advanced subdomain enumeration
- **Certificate Transparency:** crt.sh se subdomains
- **Shodan:** Internet-wide device search engine
- **DNS Zone Transfer:** `dig axfr @nameserver domain` (rare)

### **15. Aakhri Choti Summary (5 lines)**
- Network enumeration pentesting ka pehla step hai
- DNS se subdomains aur infrastructure info milti hai
- Nmap port aur service enumeration ke liye
- Hamesha permission lein pentesting se pehle
- Stealth important hai - slow scans use karein

> **Ye Zaroor Yaad Rakhein**
> 1. Bina permission pentesting illegal hai
> 2. `dig` DNS enumeration ke liye powerful hai
> 3. `nmap -sV` service versions detect karta hai
> 4. Subdomains attack surface badhate hain
> 5. Reconnaissance time invest karna worth hai

---

## **Topic 2: Web Application Recon**

### **1. Topic ka Naam / Ek Line Mein Summary** ðŸš€
**Web Application Reconnaissance:** Web applications ki jaankari nikalna - technologies, directories, vulnerabilities.

### **2. Ye Kya Hai? (What is it?)**
Web recon wo process hai jisse hum web application ke baare mein information gather karte hain - technologies used, hidden directories, backup files, sensitive information exposure.

**Analogy:** Ye ek shop ko bahar se analyze karne jaisa hai. Aap dekhte hain ki shop ka structure kya hai (framework), kaun se tools use hote hain (technologies), koi hidden rooms hain (directories), aur koi sensitive documents khule pade hain (information disclosure).

### **3. Pentesting mein Kyun Use Karte Hain? (Why use it?)**
- Technologies identify karna (known vulnerabilities)
- Hidden directories/files dhoondhna
- Backup files discover karna
- Information leakage identify karna
- Attack surface mapping
- Entry points identify karna

### **4. Ise Kab Use Karna Chahiye? (When to use it?)**
- Web application pentesting mein
- Bug bounty hunting mein
- Security audit ke dauran
- Vulnerability assessment mein

### **5. Agar Ye Pata Nahi Hoga Toh Kya Hoga? (If not known then what?)** ðŸ˜Ÿ
Hidden directories miss ho jayengi. Backup files nahi mil payengi. Technology-specific vulnerabilities exploit nahi kar payenge. Low-hanging fruits miss ho jayenge.

### **6. Ye Kaise Kaam Karta Hai? / Syntax aur Options**

**Web Recon Tools:**
```bash
# HTTP requests
curl http://target.com              # Simple GET request
curl -I http://target.com           # Headers only
curl -X POST -d "data" target.com   # POST request
curl -A "User-Agent" target.com     # Custom user agent

# Technology detection
whatweb target.com                  # Technology fingerprinting
wappalyzer target.com              # Browser extension

# Directory brute force
gobuster dir -u http://target.com -w /path/wordlist.txt
dirb http://target.com
dirsearch -u http://target.com

# Nikto scan
nikto -h http://target.com         # Web vulnerability scanner

# Robots.txt
curl http://target.com/robots.txt

# Sitemap
curl http://target.com/sitemap.xml

# Common files
curl http://target.com/.git/config
curl http://target.com/backup.zip
curl http://target.com/config.php.bak
```

### **7. Command Example (Poori Explanation ke Saath)**

**Scenario 1: HTTP headers check**
```bash
curl -I https://example.com
```

| Command Part | Matlab |
|--------------|--------|
| `curl` | HTTP client |
| `-I` | Headers only (HEAD request) |

**Expected Output:**
```
HTTP/1.1 200 OK
Server: Apache/2.4.41
X-Powered-By: PHP/7.4.3
```

**Scenario 2: Technology detection**
```bash
whatweb https://example.com
```

**Expected Output:**
```
https://example.com [200 OK] Apache[2.4.41], PHP[7.4.3], WordPress[5.8]
```

**Scenario 3: Directory brute force**
```bash
gobuster dir -u http://target.com -w /usr/share/wordlists/dirb/common.txt
```

| Command Part | Matlab |
|--------------|--------|
| `dir` | Directory mode |
| `-u` | Target URL |
| `-w` | Wordlist path |

**Expected Output:**
```
/admin (Status: 200)
/backup (Status: 403)
/uploads (Status: 301)
```

**Scenario 4: Robots.txt check**
```bash
curl http://target.com/robots.txt
```

**Expected Output:**
```
User-agent: *
Disallow: /admin/
Disallow: /private/
```

**Scenario 5: Git exposure check**
```bash
curl http://target.com/.git/config
```

**Agar exposed hai:**
```
[core]
    repositoryformatversion = 0
```

### **8. Beginners ki Aam Galtiyan (Common Mistakes)**
- Aggressive scans se WAF trigger karna
- Robots.txt ko ignore karna (valuable info hoti hai)
- Common backup extensions miss karna (.bak, .old, ~)
- Response codes ko properly analyze na karna
- Rate limiting ignore karna (IP ban ho sakta hai)

### **9. Best Practices / Pro Tips**
- **CRITICAL Fix:** Hamesha scope mein rahein, out-of-scope targets scan na karein
- **Stealth Tip:** Threads kam rakhein: `gobuster -t 10`
- Multiple wordlists use karein (small to large)
- Response size analyze karein - same size = false positive
- `curl -L` follow redirects ke liye
- Headers mein sensitive info check karein (X-Debug, X-Powered-By)

### **10. Asli Pentesting ka Scenario (Real-World Scenario)**
Ek pentester ne `whatweb` se dekha ki target WordPress 4.7.0 use kar raha hai (outdated). Usne `gobuster` se `/wp-admin/` aur `/wp-content/uploads/` discover kiye. Phir usne WordPress REST API vulnerability exploit ki aur content modify kar diya.

Dusre case mein, pentester ne `curl target.com/robots.txt` check kiya aur `/admin-panel/` disallowed dekha. Wo URL access kiya aur unprotected admin panel mila.

### **11. Checklist / Chota Recap (TL;DR)**
- `curl -I` - Headers check
- `whatweb` - Technology detection
- `gobuster` - Directory brute force
- `robots.txt` - Disallowed paths
- Common files: `.git`, `backup.zip`, `.env`

### **12. Aksar Puche Jaane Wale Sawaal (FAQs)**

**Q1: Gobuster aur Dirb mein kya fark hai?**
A: Gobuster fast hai (Go mein likha), multi-threaded. Dirb slow hai lekin recursive scan karta hai.

**Q2: 403 Forbidden ka matlab kya hai?**
A: Directory/file exists lekin access denied. Bypass techniques try kar sakte hain.

**Q3: Wordlist kaun sa use karein?**
A: Start with small (`common.txt`), phir medium, phir large. Context-specific bhi use karein.

**Q4: WAF detect ho gaya to?**
A: Slow down, user-agent change karein, IP rotate karein, ya manual testing karein.

**Q5: `.git` folder exposed hai, kya karein?**
A: `git-dumper` tool se poora repository download kar sakte hain. Source code mil jayega.

### **13. Practice ke liye Task**
1. `curl -I https://google.com` - Headers
2. `curl https://google.com/robots.txt` - Robots file
3. `whatweb https://example.com` - Technology
4. `gobuster dir -u http://testphp.vulnweb.com -w /usr/share/wordlists/dirb/small.txt` - Directory scan

**Expected Output:** Headers, robots.txt content, technologies, discovered directories.

### **14. Extra / Advanced Jaankari (Optional)**
- **Burp Suite:** Professional web testing tool
- **OWASP ZAP:** Free alternative to Burp
- **Wayback Machine:** Historical versions dekh sakte hain
- **Google Dorking:** `site:target.com filetype:pdf`
- **Shodan:** `hostname:target.com`

### **15. Aakhri Choti Summary (5 lines)**
- Web recon hidden resources discover karne ke liye
- `curl` HTTP requests ke liye versatile tool
- `whatweb` technologies quickly identify karta hai
- Directory brute force critical directories reveal karta hai
- Robots.txt aur common files hamesha check karein

> **Ye Zaroor Yaad Rakhein**
> 1. Headers mein sensitive info leak ho sakti hai
> 2. `robots.txt` valuable paths reveal karta hai
> 3. `.git`, `.env`, `backup.zip` common exposures
> 4. Technology version = known vulnerabilities
> 5. Slow aur steady wins (WAF bypass)

---

## **Topic 3: Git Clone se Hacking Tools Install**

### **1. Topic ka Naam / Ek Line Mein Summary** ðŸš€
**Git Clone for Tools:** GitHub se pentesting tools install karna - hacker ka toolbox banana.

### **2. Ye Kya Hai? (What is it?)**
Git clone wo command hai jisse hum GitHub repositories ko download karte hain. Pentesting mein bahut saare tools GitHub par available hain jo `apt` mein nahi hote.

**Analogy:** GitHub ek bada hardware store hai jahan specialized tools milte hain. `git clone` wo truck hai jo aap tools ko apne workshop (system) mein laane ke liye use karte hain.

### **3. Pentesting mein Kyun Use Karte Hain? (Why use it?)**
- Latest tools install karna
- Custom/specialized tools access karna
- Tool ko modify karna (source code available)
- Exploits aur PoCs download karna
- Community tools use karna

### **4. Ise Kab Use Karna Chahiye? (When to use it?)**
- Naya tool install karna ho
- Tool ka latest version chahiye
- Custom exploit chahiye
- Tool ko modify karna ho

### **5. Agar Ye Pata Nahi Hoga Toh Kya Hoga? (If not known then what?)** ðŸ˜Ÿ
Latest tools miss ho jayenge. Custom exploits nahi mil payenge. Tool customization nahi kar payenge. Limited toolset se kaam karna padega.

### **6. Ye Kaise Kaam Karta Hai? / Syntax aur Options**

**Git Commands:**
```bash
# Repository clone
git clone https://github.com/user/repo.git

# Specific branch
git clone -b branch_name https://github.com/user/repo.git

# Shallow clone (faster)
git clone --depth 1 https://github.com/user/repo.git

# Update existing repo
cd repo/
git pull

# Check status
git status

# View branches
git branch -a
```

**Common Installation Pattern:**
```bash
# 1. Clone
git clone https://github.com/user/tool.git

# 2. Enter directory
cd tool/

# 3. Install dependencies
pip install -r requirements.txt
# or
sudo apt install -y dependencies

# 4. Make executable
chmod +x tool.py

# 5. Run
./tool.py
# or
python3 tool.py
```

### **7. Command Example (Poori Explanation ke Saath)**

**Scenario 1: Tool clone karna**
```bash
git clone https://github.com/sqlmapproject/sqlmap.git
```

| Command Part | Matlab |
|--------------|--------|
| `git clone` | Repository download |
| `https://...` | Repository URL |

**Expected Output:**
```
Cloning into 'sqlmap'...
Receiving objects: 100% done.
```

**Scenario 2: Tool install aur run**
```bash
cd sqlmap/
python3 sqlmap.py --version
```

**Scenario 3: Dependencies install**
```bash
pip3 install -r requirements.txt
```

**Scenario 4: Tool update**
```bash
cd sqlmap/
git pull
```

**Expected Output:**
```
Already up to date.
# or
Updating abc123..def456
```

**Scenario 5: Specific version clone**
```bash
git clone --branch v1.5 https://github.com/user/tool.git
```

### **8. Beginners ki Aam Galtiyan (Common Mistakes)**
- Dependencies install karna bhoolna
- Tool ko executable banana bhoolna (`chmod +x`)
- Python version mismatch (Python 2 vs 3)
- Tool ka documentation na padhna
- Git installed na hona (`sudo apt install git`)

### **9. Best Practices / Pro Tips**
- **CRITICAL Fix:** Tools ko `/opt/` directory mein organize karein
- README.md hamesha padhein installation instructions ke liye
- **Stealth Tip:** Shallow clone use karein space bachane ke liye: `--depth 1`
- Virtual environment use karein Python tools ke liye
- Tools ko regularly update karein: `git pull`
- Trusted sources se hi clone karein (verify karne ke baad)

### **10. Asli Pentesting ka Scenario (Real-World Scenario)**
Ek pentester ko SQL injection test karna tha. Usne `git clone https://github.com/sqlmapproject/sqlmap.git` kiya, `cd sqlmap/` mein gaya, aur `python3 sqlmap.py -u "http://target.com/page?id=1" --dbs` chalaya. Tool ne automatically database names extract kar diye.

Dusre case mein, pentester ko custom wordlist generator chahiye tha. Usne GitHub par search kiya, tool clone kiya, dependencies install kiye, aur apne use case ke liye customize kar liya.

### **11. Checklist / Chota Recap (TL;DR)**
- `git clone URL` - Repository download
- `cd repo/` - Directory mein jao
- `pip install -r requirements.txt` - Dependencies
- `chmod +x tool` - Executable banana
- `git pull` - Update karna

### **12. Aksar Puche Jaane Wale Sawaal (FAQs)**

**Q1: Git install kaise karein?**
A: `sudo apt install git -y`

**Q2: Clone slow kyun hai?**
A: Repository badi hai. `--depth 1` use karein shallow clone ke liye.

**Q3: Permission denied error aa raha hai?**
A: `chmod +x filename` se executable banayein ya `python3 filename.py` se run karein.

**Q4: Requirements.txt kya hai?**
A: Python dependencies ki list. `pip install -r requirements.txt` se install hoti hain.

**Q5: Tool update kaise karein?**
A: Tool directory mein jao aur `git pull` chalao.

### **13. Practice ke liye Task**
1. `git clone https://github.com/danielmiessler/SecLists.git` - Wordlists
2. `cd SecLists/`
3. `ls -la` - Contents dekho
4. `git pull` - Update check

**Expected Output:** Repository cloned, directory contents, update status.

### **14. Extra / Advanced Jaankari (Optional)**
- **Git Submodules:** Nested repositories
- **Fork:** Apna copy banana (modifications ke liye)
- **Pull Request:** Changes contribute karna
- **GitHub CLI:** `gh` command-line tool
- **GitLab/Bitbucket:** Alternative platforms

### **15. Aakhri Choti Summary (5 lines)**
- `git clone` GitHub se tools download karta hai
- Pentesting tools mostly GitHub par available hain
- Dependencies install karna zaroori hai
- Tools ko regularly update karein
- README.md documentation ke liye important hai

> **Ye Zaroor Yaad Rakhein**
> 1. `git clone URL` basic command hai
> 2. Dependencies: `pip install -r requirements.txt`
> 3. Executable: `chmod +x tool`
> 4. Update: `git pull`
> 5. README.md hamesha padhein

---

## **Module 5 Takeaway**

Is module mein humne pentesting ka reconnaissance phase seekha. Network enumeration se target ki complete picture banti hai - DNS records, open ports, running services. Web application recon se hidden directories, technologies, aur sensitive files discover hote hain. Git clone se latest pentesting tools install kar sakte hain. Ye sab skills pentesting ka foundation hain - "know your target before you attack". Proper reconnaissance se attack success rate bahut badh jaati hai aur time bhi bachta hai.

